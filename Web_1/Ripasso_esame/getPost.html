<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        .main{
            text-align: center;
            width: 400px;
            height: auto;
            margin: auto;
            border-style: solid;
            border-color: rgb(124, 118, 118);
            background-color: rgb(221, 231, 204);
            padding: 50px;
            border-radius: 20px;
        }
    </style>
  </head>
  <body>
    <div id="root" class="main"></div>
    <script>
      const urlBase = "https://jsonplaceholder.typicode.com/";
      const div=document.getElementById("root")
      fetch(urlBase + "posts/1")
        .then((response) => response.json())
        .then((post) =>{
            div.innerHTML=`<h2>${post.title}</h2><p>${post.body}</p>`
            const userP=fetch(urlBase+"users/"+post.userId).then(resp=>resp.json())
            const commentsP=fetch(urlBase+"comments?postId="+post.id).then(resp=>resp.json())
            Promise.all([userP,commentsP]).then(res=>{
                console.log(res)
                const small=document.createElement("small")
                small.textContent=res[0].name
                div.appendChild(small)
                const commenti=res[1];
                commenti.forEach(e => {
                    div.innerHTML+="<div>"+e.name+"</div>"
                    
                });
            })
        });


    //   async function getPost() {
    //     const response = await fetch(urlBase + "posts/1");
    //     const ris = await response.json();
    //   }
    //   getPost();
    </script>
  </body>
</html>